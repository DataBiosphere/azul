TF component
	TF resource/datasource
		deployment
			bucket

{dev, prod, anvildev, anvilprod}.shared
	shared_cloudtrail
		dev
		prod
		anvildev
		anvilprod
			edu-ucsc-gi-{aws.account_name}-cloudtrail
	versioned
		dev
			edu-ucsc-gi-singlecell-azul-config-dev.{aws.region_name}
		prod
			edu-ucsc-gi-azul-dcp2-prod-config.{aws.region_name}
		anvildev
		anvilprod
			edu-ucsc-gi-{aws.account_name}.{aws.region_name}
	logs
		dev
		prod
		anvildev
		anvilprod
			edu-ucsc-gi-{aws.account_name}-logs.{aws.region_name}
	aws_config
		dev
		prod
		anvildev
		anvilprod
			edu-ucsc-gi-{aws.account_name}-awsconfig.{aws.region_name}

{dev, prod, anvildev, anvilprod}.gitlab
	# This now a datasource referring to the `logs` resource in .shared
	logs
		dev
		prod
		anvildev
		anvilprod
			# Note the path prefix.
			# Copy content from old bucket. Delete the old bucket.
			edu-ucsc-gi-{aws.account_name}-logs.{aws.region_name}/alb/access/{config.deployment_stage}/gitlab

{dev, prod, anvildev, anvilprod, sandbox, anvilbox, <personal>}
	storage
		dev
		sandbox
		prod
		anvildev
		anvilbox
		<personal>
		anvilprod
			# No need to copy content from old bucket. Delete old bucket.
			edu-ucsc-gi-{aws.account_name}-{config.deployment_stage}
