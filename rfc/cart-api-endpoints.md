### POST /resources/carts

Create a cart with the given name for the authenticated user

Returns a 400 error if a cart with the given name already exists

    parameters:
        - name: CartName
          in: body
          type: string
          description: Name to give the cart (must be unique to the user)

    :return: Name and ID of the created cart
        {
            "CartName": str,
            "CartId": str
        }
    

### GET /resources/carts

Get a list of all carts belonging the user

    :return: {
        "carts": [
            {
                "CartName": str,
                "CartId": str
            },
            ...
        ]
    }
    

### GET /resources/carts/{cart_id}

Get the cart of the given ID belonging to the user

Returns a 404 error if the cart does not exist or does not belong to the user

    :return: {
        "CartName": str,
        "CartId": str
    }
    

### DELETE /resources/carts/{cart_id}

Delete the given cart if it exists and return the deleted cart

Returns a 404 error if the cart does not exist or does not belong to the user

    :return: The deleted cart
        {
            "CartName": str,
            "CartId": str
        }
    

### PUT /resources/carts/{cart_id}

Update a cart's attributes.  Only the listed parameters can be updated

Returns a 404 error if the cart does not exist or does not belong to the user

    parameters:
        - name: CartName
          in: body
          type: string
          description: Name to update the cart with (must be unique to the user)

    :return: The updated cart
        {
            "CartName": str,
            "CartId": str
        }
    

### GET /resources/carts/{cart_id}/items

Get a list of items in a cart

Returns a 404 error if the cart does not exist or does not belong to the user

    :return: {
        "CartId": str,
        "items": [
            {
                "CartItemId": str,
                "CartId": str,
                "EntityId": str,
                "BundleUuid": str,
                "BundleVersion": str,
                "EntityType": str
            },
            ...
        ]
    }
    

### POST /resources/carts/{cart_id}/items

Add cart item to a cart and return the ID of the created item

Returns a 404 error if the cart does not exist or does not belong to the user
Returns a 400 error if an invalid item was given

    parameters:
        - name: EntityId
          in: body
          type: string
        - name: BundleUuid
          in: body
          type: string
        - name: BundleVersion
          in: body
          type: string
        - name: EntityType
          in: body
          type: string

    :return: {
        "CartItemId": str
    }
    

### DELETE /resources/carts/{cart_id}/items/{item_id}

Delete an item from the cart

Returns a 404 error if the cart does not exist or does not belong to the user, or if the item does not exist

    :return: If an item was deleted, return:
        ```
        {
            "deleted": true
        }
        ```

    

### POST /resources/carts/{cart_id}/items/batch

Add all entities matching the given filters to a cart

    parameters:
        - name: filters
          in: body
          type: string
          description: Filter for the entities to add to the cart
        - name: entityType
          in: body
          type: string
          description: Entity type to apply the filters on

    :return: number of items that will be written and a URL to check the status of the write
        e.g.: {
            "count": 1000,
            "statusUrl": "https://status.url/resources/carts/status/{token}"
        }
    

### GET /resources/carts/status/{token}

Get the status of a batch cart item write job

Returns a 400 error if the token cannot be decoded or the token points to a non-existent execution

    parameters:
        - name: token
          in: path
          type: string
          description: An opaque string generated by the server containing information about the write job to check

    :return: The status of the job

        If the job is still running a URL to recheck the status is given:
            e.g.:
            ```
            {
                "done": false,
                "statusUrl": "https://status.url/resources/carts/status/{token}"
            }
            ```

        If the job is finished, a boolean indicating if the write was successful is returned:
            e.g.:
            ```
            {
                "done": true,
                "success": true
            }
            ```